repeat
	
	display dialog "DmgCreator est un logiciel gratuit. Pour plus d‚Äôinformations sur celui-ci et sur son fonctionnement, consultez le r√©pertoire GitHub du projet." with title "DmgCreator" buttons {"Quitter", "Cr√©er une image disque", "Plus d'options, √† propos..."} default button 2
	set choice to button returned of result
	
	if choice is "Quitter" then
		tell application "DmgCreator"
			quit
		end tell
	end if
	
	if choice is "Plus d'options, √† propos..." then
		display dialog "Acc√©dez √† plus d'options :" with title "DmgCreator" buttons {"Retour", "Tutoriels : modification d'ic√¥ne / verrouillage", "√Ä propos de DmgCreator"} default button 2
		set choice to button returned of result
		
		if choice is "√Ä propos de DmgCreator" then
			display dialog "Version 1.0 build 8
2023, iStuces

Pour toute suggestion ou tout signalement, merci de contacter istucesyt@gmail.com
Pour b√©n√©ficier de toutes les informations sur ce logiciel, et de plus de contenus, rejoignez le serveur Discord d'iStuces :" with title "√Ä propos de DmgCreator" buttons {"Rejoindre le serveur Discord", "Fermer"} default button 2 with icon note
			
			set choice to button returned of result
			if choice is "Rejoindre le serveur Discord" then
				tell application "Safari"
					activate
					open location "https://tinyurl.com/iTech-Discord"
				end tell
			end if
			
		end if
		
	end if
	
	if choice is "Tutoriels : modification d'ic√¥ne / verrouillage" then
		display dialog "Vous souhaitez..." with title "Tutoriels : modification d'ic√¥ne / verrouillage" buttons {"...modifier l'ic√¥ne d'une image disque ou d'un volume", "...verrouiller une image disque", "Fermer"} default button 3
		set choice to button returned of result
	end if
	
	if choice is "Cr√©er une image disque" then
		
		display dialog "Entrez la taille de l'image disque (par exemple, 1g pour 1 Go, 1m pour 1 Mo, 1k pour 1 Ko...)" default answer "1g" buttons {"Suivant"} default button 1 with title "Cr√©ation de l'image disque"
		set volumeSize to the text returned of the result
		
		display dialog "Entrez le nom de l'image disque" default answer "Ma super image üöÄ" buttons {"Suivant"} default button 1 with title "Cr√©ation de l'image disque"
		set volumeName to the text returned of the result
		
		set imageFolderPath to (choose folder with prompt "S√©lectionnez l'emplacement d'enregistrement de l'image disque.")
		
		display dialog "Afin d'√©viter toute erreur, veuillez v√©rifier qu'aucune image disque du m√™me nom soit pr√©sente dans le dossier de destination." buttons {"Continuer"} with title "Cr√©ation de l'image disque" default button 1
		
		display dialog "La cr√©ation de l'image disque va d√©buter. L'op√©ration ne devrait prendre que quelques secondes.
Ce message se fermera automatiquement dans 5 secondes." buttons {"OK"} with icon caution with title "Lancement de l'op√©ration" default button 1 giving up after 5
		
		set imageFilePath to POSIX path of imageFolderPath & volumeName
		
		set createCmd to "hdiutil create -size " & volumeSize & " -fs HFS+ -volname " & quoted form of volumeName & " " & quoted form of imageFilePath
		
		try
			
			do shell script createCmd
			
		on error msg number n from f to t partial result p
			
			set creationState to "E"
			display dialog msg & "
			
Issue : erreur -5344
Cette erreur peut √™tre caus√©e par l'entr√©e d'une valeur de taille trop faible ou incorrecte. Exemples : taille inf√©rieure √† 1 Mo (1m), valeur 1K incorrecte (correction : 1k)..." with title "Erreur" with icon stop buttons {"Abandonner"} default button 1
			
		end try
		
		if creationState is not "E" then
			
			display dialog "La cr√©ation de l'image disque est termin√©e !
Afin de monter le volume associ√©, double-cliquez sur celle-ci.
	
Vous pouvez renommer manuellement l'image disque ou le volume, et √©crire sur le volume.
	
Acc√©dez √† plusieurs tutoriels (modification de l'ic√¥ne du volume / de l'image disque et verrouillage de celle-ci) √† partir du menu principal (section Plus d'options) ou des boutons ci-dessous :" buttons {"Modifier l'ic√¥ne d'une image disque ou d'un volume", "Verrouiller une image disque", "Suivant"} with title "Op√©ration termin√©e" default button 1
			set choice to button returned of result
			
		end if
		
	end if
	
	if choice is "...modifier l'ic√¥ne d'une image disque ou d'un volume" then
		display dialog "Afin de modifier l'ic√¥ne d'une image disque ou d'un volume, t√©l√©chargez le script IconChanger en utilisant le bouton ci-dessous.
		
Ex√©cutez dans le Terminal la commande suivante :
		
osascript [IconChanger.script]

> Ici, le fichier IconChanger.script t√©l√©charg√© devra √™tre d√©pos√© dans la fen√™tre de Terminal √† la place de [IconChanger.script]." with icon caution with title "Modification d'ic√¥ne" buttons {"Fermer", "T√©l√©charger IconChanger"} default button 2
		set choice to button returned of result
	end if
	
	if choice is "Modifier l'ic√¥ne d'une image disque ou d'un volume" then
		display dialog "Afin de modifier l'ic√¥ne d'une image disque ou d'un volume, t√©l√©chargez le script IconChanger en utilisant le bouton ci-dessous.
		
Ex√©cutez dans le Terminal la commande suivante :
		
osascript [IconChanger.script]

> Ici, le fichier IconChanger.script t√©l√©charg√© devra √™tre d√©pos√© dans la fen√™tre de Terminal √† la place de [IconChanger.script]." with icon caution with title "Modification d'ic√¥ne" buttons {"Fermer", "T√©l√©charger IconChanger"} default button 2
		set choice to button returned of result
	end if
	
	if choice is "T√©l√©charger IconChanger" then
		tell application "Safari"
			activate
			open location "https://github.com/istucesyt/IconChanger"
		end tell
	end if
	
	if choice is "...verrouiller une image disque" then
		display dialog "Malheureusement, DmgCreator ne peut pas verrouiller un volume d'image disque... Vous pouvez cepandant le faire manuellement en suivant les indications de l'aide en ligne :" with icon note with title "Verrouillage d'une image disque" buttons {"Acc√©der √† l'aide", "Fermer"} default button 1
		set choice to button returned of result
		
		if choice is "Acc√©der √† l'aide" then
			tell application "Safari"
				activate
				open location "https://github.com/istucesyt/DmgCreator/blob/main/Ressources/Prote%CC%81ger%20un%20volume%20d'image%20disque%20par%20un%20mot%20de%20passe.pdf"
			end tell
		end if
	end if
	
	if choice is "Verrouiller une image disque" then
		display dialog "Malheureusement, DmgCreator ne peut pas verrouiller un volume d'image disque... Vous pouvez cepandant le faire manuellement en suivant les indications de l'aide en ligne :" with title "Verrouillage d'une image disque" buttons {"Acc√©der √† l'aide", "Fermer"} default button 1
		set choice to button returned of result
		
		if choice is "Acc√©der √† l'aide" then
			tell application "Safari"
				activate
				open location "https://github.com/istucesyt/DmgCreator/blob/main/Ressources/Prote%CC%81ger%20un%20volume%20d'image%20disque%20par%20un%20mot%20de%20passe.pdf"
			end tell
		end if
	end if
	
end repeat
